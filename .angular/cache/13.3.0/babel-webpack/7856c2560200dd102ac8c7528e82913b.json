{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(afAuth, router, auth) {\n    this.afAuth = afAuth;\n    this.router = router;\n    this.auth = auth;\n    this.loading = false;\n    this.action = 'login';\n  }\n\n  ngOnInit() {}\n\n  onSubmit(form) {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.loading = true;\n      this.error = null;\n      const {\n        email,\n        password,\n        firstName,\n        lastName\n      } = form.value;\n      let resp;\n\n      try {\n        if (this.isSignUp) {\n          resp = yield this.afAuth.auth.createUserWithEmailAndPassword(email, password);\n          yield resp.user.updateProfile({\n            displayName: `${firstName} ${lastName}`\n          });\n          yield this.auth.createUserDocument();\n          form.reset();\n        } else {\n          resp = yield this.afAuth.auth.signInWithEmailAndPassword(email, password);\n        }\n\n        const uid = resp.user.uid;\n        this.auth.routeOnLogin();\n      } catch (error) {\n        console.log(error.message);\n        this.error = error.message;\n      }\n\n      this.loading = false;\n    });\n  }\n\n  get isLogin() {\n    return this.action === 'login';\n  }\n\n  get isSignUp() {\n    return this.action === 'signup';\n  }\n\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module"}